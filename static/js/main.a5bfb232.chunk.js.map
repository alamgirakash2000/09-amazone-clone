{"version":3,"sources":["ContextApi/StateProvider.js","Firebase/Firebase.js","components/Header/Header.jsx","components/Product/Product.jsx","axios.js","pages/Home/Home.jsx","pages/Checkout/CheckoutProducts.jsx","ContextApi/reducer.js","pages/Checkout/Subtotal.jsx","pages/Checkout/Checkout.jsx","pages/Login/Login.jsx","pages/MyOrders/MyOrders.js","components/ProcessPayment/ProcessPayment.js","components/Shipment/Shipment.js","components/PrivateRoute/PrivateRoute.js","App.js","serviceWorker.js","index.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","Config","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","firestore","storage","Header","searchedText","setSearchedText","basket","user","dispatch","className","to","src","alt","type","aria-describedby","onChange","e","target","id","onClick","localStorage","removeItem","signOut","name","length","Product","props","price","stock","Array","star","fill","map","arr","index","key","starCount","img","title","image","rating","instance","axios","create","baseURL","Home","products","product","_id","CheckoutProducts","getBasketTotal","total","forEach","item","toFixed","state","action","filter","prod","Subtotal","history","useHistory","push","Checkout","Login","from","useLocation","pathname","useState","isLogin","setIsLogin","setName","email","setEmail","phone","setPhone","password","setPassword","confirmPassword","setConfirmPassword","re","getItem","JSON","parse","replace","TextField","required","error","test","label","variant","preventDefault","signInWithEmailAndPassword","then","displayName","phoneNumber","setItem","stringify","catch","err","document","getElementById","innerText","innerHTML","alert","createUserWithEmailAndPassword","a","newUser","currentUser","updateProfile","authUser","MyOrders","orders","setOrders","useEffect","get","res","data","message","getOrders","order","items","shipment","moment","timestamp","format","ProcessPayment","newOrder","setError","stripe","useStripe","elements","useElements","totalPrice","parseFloat","handleSubmit","event","cardElement","getElement","CardElement","createPaymentMethod","card","paymentMethod","console","log","post","paymentInfo","onSubmit","disabled","stripePromise","loadStripe","Shipment","address","setAddress","payment","setPayment","setNewOrder","PrivateRoute","rest","render","location","App","setProducts","isLoading","setIsLoading","msg","toLocaleLowerCase","includes","filteredProducts","setFilteredProducts","path","exact","Boolean","window","hostname","match","ReactDOM","StrictMode","navigator","serviceWorker","ready","registration","unregister"],"mappings":"sSAGaA,G,MAAeC,2BAGfC,EAAgB,SAAC,GAAD,IAAGC,EAAH,EAAGA,QAASC,EAAZ,EAAYA,aAAcC,EAA1B,EAA0BA,SAA1B,OAC3B,kBAACL,EAAaM,SAAd,CAAuBC,MAAOC,qBAAWL,EAASC,IAC/CC,IAKQI,EAAgB,kBAAMC,qBAAWV,I,iBCXxCW,EAASC,IAASC,cAAc,CACpCC,OAAQ,0CACRC,WAAY,8BACZC,YAAa,qCACbC,UAAW,cACXC,cAAe,0BACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAIXC,GADWX,EAAOY,YACXZ,EAAOW,QACJV,IAASY,UCoEVC,MA5Ef,YAAoD,IAAlCC,EAAiC,EAAjCA,aAAcC,EAAmB,EAAnBA,gBAAmB,EACZlB,IADY,0BACxCmB,EADwC,EACxCA,OAAQC,EADgC,EAChCA,KAAQC,EADwB,KAkBjD,OACE,yBAAKC,UAAU,8BACb,yBAAKA,UAAU,UAEb,kBAAC,IAAD,CAAMC,GAAG,KACP,yBACEC,IAAI,oDACJC,IAAI,GACJH,UAAU,kBAId,yBAAKA,UAAU,wCACb,2BACEI,KAAK,OACLJ,UAAU,eACVK,mBAAiB,eACjB7B,MAAOmB,EACPW,SAAU,SAACC,GACTX,EAAgBW,EAAEC,OAAOhC,UAG7B,yBAAKwB,UAAU,sBACb,0BAAMA,UAAU,mBAAmBS,GAAG,gBACpC,uBAAGT,UAAU,qBAKnB,yBAAKA,UAAU,uBACb,kBAAC,IAAD,CAAMC,IAAKH,GAAQ,SAAUE,UAAU,gBACrC,yBAAKU,QA9CD,WACZC,aAAaC,WAAW,MACxBb,EAAS,CACPK,KAAM,UAEJN,IACFP,EAAKsB,UACLd,EAAS,CACPK,KAAM,WACNN,KAAM,OAERa,aAAaC,WAAW,iBAmCGZ,UAAU,qCAC7B,0BAAMA,UAAU,0BAAhB,gBAAgDF,QAAhD,IAAgDA,OAAhD,EAAgDA,EAAMgB,MACtD,0BAAMd,UAAU,0BACbF,EAAO,WAAa,aAI3B,kBAAC,IAAD,CAAMG,GAAG,YAAYD,UAAU,gBAC7B,yBAAKA,UAAU,qCACb,0BAAMA,UAAU,0BAAhB,WACA,0BAAMA,UAAU,0BAAhB,cAGJ,kBAAC,IAAD,CAAMC,GAAG,YAAYD,UAAU,gBAC7B,yBAAKA,UAAU,wBACb,8BACE,uBAAGA,UAAU,gCAEf,0BAAMA,UAAU,QAAhB,OAAwBH,QAAxB,IAAwBA,OAAxB,EAAwBA,EAAQkB,c,sBClB/BC,MApDf,YAA6B,IAAVC,EAAS,EAATA,MAAS,EACKvC,IADL,mBACjBmB,EADiB,KACjBA,OAAUE,EADO,KAoB1B,OACE,yBAAKC,UAAU,qBACb,yBAAKA,UAAU,WACb,yBAAKA,UAAU,iBACb,uBAAGA,UAAU,sBAAsBiB,EAAMH,MACzC,uBAAGd,UAAU,2BACX,oCACA,gCAASiB,EAAMC,QAEjB,sCAAYD,EAAME,OAClB,yBAAKnB,UAAU,8BACZoB,MAAMH,EAAMI,MACVC,OACAC,KAAI,SAACC,EAAKC,GAAN,OACH,uBAAGC,IAAKD,EAAOzB,UAAU,WAAzB,cAKN,mCAASiB,EAAMU,UAAf,MAEF,yBAAKzB,IAAKe,EAAMW,IAAKzB,IAAI,YAAYH,UAAU,mBAC/C,yBAAKA,UAAU,UACb,4BAAQA,UAAU,kBAAkBU,QAxCxB,WAElBX,EAAS,CACPK,KAAM,aACNP,OAAO,GAAD,mBACDA,GADC,CAEJ,CACEY,GAAIQ,EAAMS,IACVG,MAAOZ,EAAMH,KACbgB,MAAOb,EAAMW,IACbV,MAAOD,EAAMC,MACba,OAAQd,EAAMI,YA6Bd,qB,QC3CKW,E,OAHEC,EAAMC,OAAO,CAC5BC,QAAS,0CCyBIC,MAtBf,YAA6B,IAAbC,EAAY,EAAZA,SACd,OACE,yBAAKrC,UAAU,yBAAyBS,GAAG,YACzC,yBACET,UAAU,cACVE,IAAI,6KACJC,IAAI,KAGN,yBAAKH,UAAU,iBACZqC,EAAStB,OAAS,EACjBsB,EAASd,KAAI,SAACe,GAAD,OACX,kBAAC,EAAD,CAASZ,IAAKY,EAAQC,IAAKtB,MAAOqB,OAGpC,wBAAItC,UAAU,oBAAd,iC,MCmBKwC,MAnCf,YAAwC,IAAZF,EAAW,EAAXA,QAAW,EACN5D,IADM,mBAClBqB,GADkB,KAC5BF,OAD4B,MASrC,OACE,yBAAKG,UAAU,oCACb,yBAAKE,IAAKoC,EAAQR,MAAO3B,IAAI,GAAGH,UAAU,gCAC1C,yBAAKA,UAAU,yBACb,uBAAGA,UAAU,8BACX,gCAASsC,EAAQT,QAEnB,uBAAG7B,UAAU,8BACX,oCACA,gCAASsC,EAAQpB,QAEnB,yBAAKlB,UAAU,sCACZoB,MAAMkB,EAAQP,QACZT,OACAC,KAAI,kBACH,yCAGN,4BAAQvB,UAAU,0BAA0BU,QAzBzB,WAEvBX,EAAS,CACPK,KAAM,qBACNK,GAAI6B,EAAQ7B,OAqBV,yB,QC1BKgC,EAAiB,SAAC5C,GAC7B,IAAI6C,EAAQ,EAGZ,OAFA7C,EAAO8C,SAAQ,SAACC,GAAD,OAAWF,GAASE,EAAK1B,SAEjCwB,EAAMG,QAAQ,IA8BRzE,EA3BC,SAAC0E,EAAOC,GACtB,OAAQA,EAAO3C,MACb,IAAK,aACH,OAAO,eACF0C,EADL,CAEEjD,OAAQkD,EAAOlD,SAGnB,IAAK,WACH,OAAO,eACFiD,EADL,CAEEhD,KAAMiD,EAAOjD,OAGjB,IAAK,qBACH,OAAO,eACFgD,EADL,CAEEjD,OAAQiD,EAAMjD,OAAOmD,QAAO,SAACC,GAAD,OAAUA,EAAKxC,KAAOsC,EAAOtC,QAG7D,IAAK,SACH,OAAO,eAAKqC,EAAZ,CAAmBhD,KAAM,OAC3B,QACE,OAAOgD,ICFEI,MA3Bf,WAAqB,IAAD,EACGxE,IAAZmB,EADS,oBACTA,OACHsD,EAAUC,cAMhB,OACE,yBAAKpD,UAAU,YACb,+CACYH,QADZ,IACYA,OADZ,EACYA,EAAQkB,OADpB,KAEE,qCAAW0B,EAAe5C,GAA1B,MAEF,2BAAOG,UAAU,kBACf,2BAAOI,KAAK,aADd,+BAGA,4BACEM,QAdwB,WAC5ByC,EAAQE,KAAK,cAcTrD,UAAU,6CAFZ,sBCqBSsD,MArCf,WAAqB,IAAD,EACG5E,IAAZmB,EADS,oBACTA,OACT,OACE,yBAAKG,UAAU,sBACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,YACb,yBACEA,UAAU,eACVE,IAAI,+FACJC,IAAI,KAEc,KAAb,OAANN,QAAM,IAANA,OAAA,EAAAA,EAAQkB,QACP,6BACE,oDACA,yHAMF,6BACE,0EACA,6BAFF,OAKGlB,QALH,IAKGA,OALH,EAKGA,EAAQ0B,KAAI,SAACqB,GAAD,OACX,kBAAC,EAAD,CAAkBlB,IAAKkB,EAAKnC,GAAI6B,QAASM,SAKjD,yBAAK5C,UAAU,YAAYH,EAAOkB,OAAS,GAAK,kBAAC,EAAD,U,kBC+MzCwC,MA9Of,WACE,IAAMJ,EAAUC,cAERI,GADSC,cACSX,OAAS,CAAEU,KAAM,CAAEE,SAAU,OAA/CF,KAHO,EAIeG,oBAAS,GAJxB,mBAIRC,EAJQ,KAICC,EAJD,OAKcnF,IALd,mBAKEqB,GALF,KAKND,KALM,QAOS6D,mBAAS,IAPlB,mBAOR7C,EAPQ,KAOFgD,EAPE,OAQWH,mBAAS,IARpB,mBAQRI,EARQ,KAQDC,EARC,OASWL,mBAAS,IATpB,mBASRM,EATQ,KASDC,EATC,OAUiBP,mBAAS,IAV1B,mBAURQ,EAVQ,KAUEC,EAVF,OAW+BT,mBAAS,IAXxC,mBAWRU,EAXQ,KAWSC,EAXT,KAYTC,EAAK,0JA+FX,OA7FI5D,aAAa6D,QAAQ,iBACvBzE,EAAS,CACPK,KAAM,WACNN,KAAM2E,KAAKC,MAAM/D,aAAa6D,QAAQ,kBAExCrB,EAAQwB,QAAQnB,IAyFhB,yBAAKxD,UAAU,SACb,yBAAKA,UAAU,gCACZ4D,EACC,0BAAMb,OAAO,IACX,uCACA,kBAAC6B,EAAA,EAAD,CACEC,UAAQ,EACRC,OAAQP,EAAGQ,KAAKhB,GAChBtD,GAAG,6BACHuE,MAAM,cACNC,QAAQ,WACRjF,UAAU,oBACVxB,MAAOuF,EACPzD,SAAU,SAACC,GAAD,OAAOyD,EAASzD,EAAEC,OAAOhC,UAGrC,kBAACoG,EAAA,EAAD,CACEC,UAAQ,EACRC,MAAOX,EAASpD,OAAS,GAAKoD,EAASpD,OAAS,EAChDN,GAAG,6BACHuE,MAAM,iBACNC,QAAQ,WACR7E,KAAK,WACLJ,UAAU,oBACVxB,MAAO2F,EACP7D,SAAU,SAACC,GAAD,OAAO6D,EAAY7D,EAAEC,OAAOhC,UAExC,4BACE4B,KAAK,SACLJ,UAAU,wCACVU,QApHE,SAACH,GACbA,EAAE2E,iBACF3F,EACG4F,2BAA2BpB,EAAOI,GAClCiB,MAAK,SAAC7F,GAAU,IAAD,EAC8BA,EAAKO,KAAzCuF,EADM,EACNA,YAAatB,EADP,EACOA,MAAOuB,EADd,EACcA,YAC5BvF,EAAS,CACPK,KAAM,WACNN,KAAM,CACJgB,KAAMuE,EACNtB,QACAE,MAAOqB,KAIX3E,aAAa4E,QACX,cACAd,KAAKe,UAAU,CACb1E,KAAMuE,EACNtB,QACAE,MAAOqB,KAIXnC,EAAQwB,QAAQnB,MAEjBiC,OAAM,SAACC,GACNC,SAASC,eAAe,gBAAgBC,UAAxC,UAAuDH,QAsFnD,WAOA,uBAAG1F,UAAU,cAAcS,GAAG,iBAC9B,uBAAGT,UAAU,eAAb,cACc,IACZ,4BACEA,UAAU,2BACVU,QAAS,SAACH,GAAD,OAAOsD,GAAW,KAF7B,WAFF,SAYF,0BAAMd,OAAO,IACX,uCACA,kBAAC6B,EAAA,EAAD,CACEC,UAAQ,EACRpE,GAAG,6BACHuE,MAAM,kBACNC,QAAQ,WACRjF,UAAU,oBACVxB,MAAOsC,EACPR,SAAU,SAACC,GAAD,OAAOuD,EAAQvD,EAAEC,OAAOhC,UAGpC,kBAACoG,EAAA,EAAD,CACEC,UAAQ,EACRC,OAAQP,EAAGQ,KAAKhB,GAChBtD,GAAG,6BACHuE,MAAM,cACNC,QAAQ,WACRjF,UAAU,oBACVxB,MAAOuF,EACPzD,SAAU,SAACC,GAAD,OAAOyD,EAASzD,EAAEC,OAAOhC,UAGrC,kBAACoG,EAAA,EAAD,CACEC,UAAQ,EACRC,MAAOb,EAAMlD,OAAS,IAAMkD,EAAMlD,OAAS,EAC3CN,GAAG,6BACHuE,MAAM,kBACNC,QAAQ,WACRjF,UAAU,oBACVxB,MAAOyF,EACP3D,SAAU,SAACC,GAAD,OAAO2D,EAAS3D,EAAEC,OAAOhC,UAGrC,kBAACoG,EAAA,EAAD,CACEC,UAAQ,EACRC,MAAOX,EAASpD,OAAS,GAAKoD,EAASpD,OAAS,EAChDN,GAAG,6BACHuE,MAAM,iBACNC,QAAQ,WACR7E,KAAK,WACLJ,UAAU,oBACVxB,MAAO2F,EACP7D,SAAU,SAACC,GAAD,OAAO6D,EAAY7D,EAAEC,OAAOhC,UAGxC,kBAACoG,EAAA,EAAD,CACEC,UAAQ,EACRC,MAAOT,EAAgBtD,OAAS,GAAKoD,IAAaE,EAClD5D,GAAG,6BACHuE,MAAM,mBACNC,QAAQ,WACR7E,KAAK,WACLJ,UAAU,oBACVxB,MAAO6F,EACP/D,SAAU,SAACC,GAAD,OAAO+D,EAAmB/D,EAAEC,OAAOhC,UAG/C,4BACEwB,UAAU,2CACVU,QAlKK,SAACH,GAIhB,GAHAA,EAAE2E,iBACFS,SAASC,eAAe,gBAAgBE,UAAY,IAGjDhF,IACAyD,EAAGQ,KAAKhB,KACRI,GACDA,IAAaE,GACbJ,EAAMlD,OAAS,GAKf,OAHA4E,SAASC,eAAe,gBAAgBE,UACtC,8CACFC,MAAM,iCAGRxG,EACGyG,+BAA+BjC,EAAOI,GACtCiB,KAFH,+BAAAa,EAAA,MAEQ,WAAOC,GAAP,eAAAD,EAAA,6DACAE,EAAc5G,EAAK4G,YADnB,SAEEA,EACHC,cAAc,CACbf,YAAavE,EACbwE,YAAarB,IAEdmB,MAAK,SAACiB,GAAc,IAAD,EAC0B9G,EAAK4G,YAAzCd,EADU,EACVA,YAAatB,EADH,EACGA,MAAOuB,EADV,EACUA,YAC5BvF,EAAS,CACPK,KAAM,WACNN,KAAM,CACJgB,KAAMuE,EACNtB,QACAE,MAAOqB,KAGX3E,aAAa4E,QACX,cACAd,KAAKe,UAAU,CACb1E,KAAMuE,EACNtB,QACAE,MAAOqB,QAtBX,OA2BJS,MAAM,2BACN5C,EAAQwB,QAAQnB,GA5BZ,2CAFR,uDAgCGiC,OAAM,SAACC,GACNC,SAASC,eAAe,gBAAgBC,UAAxC,UAAuDH,GACvDK,MAAM,sCA8GF,8BAOA,uBAAG/F,UAAU,cAAcS,GAAG,iBAC9B,uBAAGT,UAAU,eAAb,sBACsB,IACpB,4BACEA,UAAU,2BACVU,QAAS,SAACH,GAAD,OAAOsD,GAAW,KAF7B,SAFF,a,0BCvKGyC,MAvDf,WAAqB,IAAD,EACW5H,IADX,mBACToB,EADS,KACTA,KADS,QAEU6D,sBAFV,mBAEX4C,EAFW,KAEHC,EAFG,KAgBlB,OAZAC,qBAAU,YACO,uCAAG,sBAAAR,EAAA,sDAChBhE,EACGyE,IADH,qBACqB5G,EAAKiE,QACvBqB,MAAK,SAACuB,GACLH,EAAUG,EAAIC,SAEfnB,OAAM,SAACC,GAAD,OAASK,MAAML,EAAImB,YANZ,2CAAH,qDAQfC,KACC,IAGD,yBAAK9G,UAAU,4BACN,OAANuG,QAAM,IAANA,OAAA,EAAAA,EAAQxF,QAAS,EAChB,yBAAKf,UAAU,mDACb,wBAAIA,UAAU,aAAd,sBAEA,wBAAIA,UAAU,sBACXuG,EAAOhF,KAAI,SAACwF,GAAD,OACV,wBAAIrF,IAAKqF,EAAMxE,KACb,yBAAKvC,UAAU,wBACb,yBAAKA,UAAU,eACb,wBAAIA,UAAU,gBAAd,SACS+G,EAAMC,MAAMjG,OADrB,cAGA,wBAAIf,UAAU,cAAd,UACU+G,EAAM7F,MAAQ6F,EAAME,SAD9B,wBAC6D,MAG/D,yBAAKjH,UAAU,gBACb,uBAAGA,UAAU,eACVkH,IAAOH,EAAMI,WAAWC,OACvB,oCAUhB,wBAAIpH,UAAU,eAAd,8C,iBC2BOqH,MA1Ef,YAAuC,IAAbC,EAAY,EAAZA,SAAY,EACC5I,IADD,0BACXqB,GADW,EAC3BD,KAD2B,EACrBD,OADqB,MAE9BsD,EAAUC,cAFoB,EAGVO,mBAAS,MAHC,mBAG7BmB,EAH6B,KAGtByC,EAHsB,KAI9BC,EAASC,sBACTC,EAAWC,wBAEXC,GACJC,WAAWP,EAASpG,OAAS2G,WAAWP,EAASL,WACjDpE,QAAQ,GAEJiF,EAAY,uCAAG,WAAOC,GAAP,qBAAA9B,EAAA,yDACnB8B,EAAM7C,iBAEDsC,GAAWE,EAHG,wDAQbM,EAAcN,EAASO,WAAWC,eARrB,SAUoBV,EAAOW,oBAAoB,CAChE/H,KAAM,OACNgI,KAAMJ,IAZW,mBAUXlD,EAVW,EAUXA,MAAOuD,EAVI,EAUJA,eAMXvD,EAhBe,iBAiBjByC,EAASzC,EAAM+B,SACfyB,QAAQC,IAAI,UAAWzD,GAlBN,+BAoBjByC,EAAS,MApBQ,UAsBXtF,EACHuG,KAAK,aADF,eAEClB,EAFD,CAGFmB,YAAa,CAAEhI,GAAI4H,EAAc5H,GAAI2H,KAAMC,EAAcD,SAE1DhD,MAAK,SAACuB,GACLZ,MAAM,6BACNhG,EAAS,CACPK,KAAM,aACNP,OAAQ,KAGVsD,EAAQwB,QAAQ,gBAEjBc,OAAM,SAACC,GAAD,OAASA,EAAImB,WApCL,4CAAH,sDAwClB,OACE,6BACE,yBAAK7G,UAAU,qBACb,6CAGF,yBAAKA,UAAU,sCACb,0BAAM0I,SAAUZ,GACd,kBAAC,cAAD,MACA,4BACE1H,KAAK,SACLJ,UAAU,kCACV2I,UAAWnB,GAETA,EAAgC,mCAASI,GAAhC,6CAEZ9C,GAAS,uBAAG9E,UAAU,eAAe8E,O,QC/D1C8D,EAAgBC,YACpB,+GA0GaC,MAvGf,WAAqB,IAAD,EACmBpK,IADnB,0BACToB,EADS,EACTA,KAAMD,EADG,EACHA,OADG,QAEQ8D,mBAAS7D,EAAKmE,QAFtB,mBAEXA,EAFW,KAEJC,EAFI,OAGYP,mBAAS,IAHrB,mBAGXoF,EAHW,KAGFC,EAHE,OAIYrF,oBAAS,GAJrB,mBAIXsF,EAJW,KAIFC,EAJE,OAKcvF,mBAAS,IALvB,mBAKX2D,EALW,KAKD6B,EALC,KAOZrB,EAAY,uCAAG,WAAOvH,GAAP,eAAA0F,EAAA,sDACnB1F,EAAE2E,iBAEI6B,EAAQ,CACZhD,MAAOjE,EAAKiE,MACZE,MAAOA,EACP8E,UACA/B,MAAOnH,EAAO0B,KAAI,SAAC0B,GAAD,OAAUA,EAAKxC,MACjCS,MAAO2G,WAAWpF,EAAe5C,IACjCoH,SAAmC,IAAzBxE,EAAe5C,IAG3BsJ,EAAYpC,GACZmC,GAAW,GAbQ,2CAAH,sDAgBlB,OACE,yBAAKlJ,UAAU,kBACb,wBAAIA,UAAU,yBAAd,sBACA,yBAAKA,UAAU,OACb,yBAAKA,UAAU,YACXiJ,EA2CA,kBAAC,WAAD,CAAUzB,OAAQoB,GAChB,kBAAC,EAAD,CAAgBtB,SAAUA,KA3C5B,0BAAMtH,UAAU,iBAAiB0I,SAAUZ,GACzC,kBAAClD,EAAA,EAAD,CACEnE,GAAG,6BACHuE,MAAM,YACNC,QAAQ,WACRjF,UAAU,oBACVxB,MAAOsB,EAAKgB,OAGd,kBAAC8D,EAAA,EAAD,CACEnE,GAAG,6BACHuE,MAAM,aACNC,QAAQ,WACRjF,UAAU,oBACVxB,MAAOsB,EAAKiE,QAGd,kBAACa,EAAA,EAAD,CACEC,UAAQ,EACRpE,GAAG,6BACHuE,MAAM,YACNC,QAAQ,WACRjF,UAAU,oBACVxB,MAAOyF,EACP3D,SAAU,SAACC,GAAD,OAAO2D,EAAS3D,EAAEC,OAAOhC,UAGrC,kBAACoG,EAAA,EAAD,CACEC,UAAQ,EACRpE,GAAG,6BACHuE,MAAM,UACNC,QAAQ,WACRjF,UAAU,oBACVxB,MAAOuK,EACPzI,SAAU,SAACC,GAAD,OAAOyI,EAAWzI,EAAEC,OAAOhC,UAGvC,4BAAQ4B,KAAK,SAASJ,UAAU,kCAAhC,iBAUN,yBAAKA,UAAU,iBACb,yBAAKA,UAAU,OACb,wBAAIA,UAAU,gBAAd,sBACA,2BACE,4BAAQA,UAAU,gBAAlB,kBACCH,EAAOkB,QAEV,2BACE,4BAAQf,UAAU,gBAAlB,iBADF,IAC2D,MACxDyC,EAAe5C,GAAS,KAE3B,2BACE,4BAAQG,UAAU,gBAAlB,sBACC,OAC0B,IAAzByC,EAAe5C,IAAgBgD,QAAQ,IAG3C,kBAAC,IAAD,CAAM5C,GAAG,YAAYD,UAAU,wBAA/B,sB,QClFGoJ,MArBf,YAA8C,IAAtB9K,EAAqB,EAArBA,SAAa+K,EAAQ,8BACxB3K,IAAVoB,EADkC,oBAClCA,KACT,OACE,kBAAC,IAAD,iBACMuJ,EADN,CAEEC,OAAQ,gBAAGC,EAAH,EAAGA,SAAH,OACNzJ,EACExB,EAEA,kBAAC,IAAD,CACE2B,GAAI,CACFyD,SAAU,SACVZ,MAAO,CAAEU,KAAM+F,WCsEdC,MAxEf,WAAgB,IAAD,EACkB9K,IADlB,mBACJmB,EADI,KACJA,OAAUE,EADN,OAEmB4D,mBAAS,IAF5B,mBAENtB,EAFM,KAEIoH,EAFJ,OAG2B9F,mBAAS,IAHpC,mBAGNhE,EAHM,KAGQC,EAHR,OAIqB+D,oBAAS,GAJ9B,mBAIN+F,EAJM,KAIKC,EAJL,KAyCb,OAnCAlD,qBAAU,WACRkD,GAAa,GACb1H,EACGyE,IADH,wBAEGtB,MAAK,SAACuB,GACL8C,EAAY9C,EAAIC,MAChB+C,GAAa,MAEdlE,OAAM,SAACC,GAAD,OAAS4C,QAAQC,IAAI7C,EAAIkE,QAElC7J,EAAS,CACPK,KAAM,WACNN,KAAM2E,KAAKC,MAAM/D,aAAa6D,QAAQ,iBAAmB,OAG3DzE,EAAS,CACPK,KAAM,aACNP,OAAQ4E,KAAKC,MAAM/D,aAAa6D,QAAQ,mBAAqB,OAE9D,IAEHiC,qBAAU,WACR9F,aAAa4E,QAAQ,gBAAiBd,KAAKe,UAAU3F,MACpD,CAACA,IAEJ4G,qBAAU,YACiB,uCAAG,4BAAAR,EAAA,sEACG5D,EAASW,QAAO,SAAC4D,GAAD,OAC3CA,EAAK9F,KAAK+I,oBAAoBC,SAASnK,EAAakK,wBAF5B,cACtBE,EADsB,gBAIpBN,EAAYM,GAJQ,2CAAH,qDAMzBC,KACC,CAACrK,IAGF,kBAAC,IAAD,KACG+J,GACC,yBAAK1J,UAAU,WACb,gDAGJ,yBAAKA,UAAS,cAAS0J,GAAa,WAClC,kBAAC,EAAD,CAAQ/J,aAAcA,EAAcC,gBAAiBA,IACrD,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOqK,KAAK,aACV,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,UACV,kBAAC,EAAD,OAEF,kBAAC,EAAD,CAAcA,KAAK,aACjB,kBAAC,EAAD,OAEF,kBAAC,EAAD,CAAcA,KAAK,aACjB,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOC,OAAK,EAACD,KAAK,KAChB,kBAAC,EAAD,CAAM5H,SAAUA,EAAUoH,YAAaA,SClE/BU,QACW,cAA7BC,OAAOb,SAASc,UAEe,UAA7BD,OAAOb,SAASc,UAEhBD,OAAOb,SAASc,SAASC,MACvB,2DCTNC,IAASjB,OACP,kBAAC,IAAMkB,WAAP,KACE,kBAAC,EAAD,CAAenM,aVXS,CAC1ByB,KAAM,KACND,OAAQ,IUSqCzB,QAASA,GAClD,kBAAC,EAAD,QAGJuH,SAASC,eAAe,SDoHpB,kBAAmB6E,WACrBA,UAAUC,cAAcC,MACrBvF,MAAK,SAAAwF,GACJA,EAAaC,gBAEdpF,OAAM,SAAAX,GACLwD,QAAQxD,MAAMA,EAAM+B,a","file":"static/js/main.a5bfb232.chunk.js","sourcesContent":["import React, { createContext, useContext, useReducer } from \"react\";\r\n\r\n// This is the data layer\r\nexport const StateContext = createContext();\r\n\r\n// Build A Provider\r\nexport const StateProvider = ({ reducer, initialState, children }) => (\r\n  <StateContext.Provider value={useReducer(reducer, initialState)}>\r\n    {children}\r\n  </StateContext.Provider>\r\n);\r\n\r\n// This is how we use it inside of a component\r\nexport const useStateValue = () => useContext(StateContext);\r\n","import firebase from \"firebase\";\r\n\r\nconst Config = firebase.initializeApp({\r\n  apiKey: \"AIzaSyD6miqZHIPraVrHYve8TfgIBHi9EKqjVz0\",\r\n  authDomain: \"clone-904cc.firebaseapp.com\",\r\n  databaseURL: \"https://clone-904cc.firebaseio.com\",\r\n  projectId: \"clone-904cc\",\r\n  storageBucket: \"clone-904cc.appspot.com\",\r\n  messagingSenderId: \"262331714843\",\r\n  appId: \"1:262331714843:web:d184902bdf22ba29bc17be\",\r\n  measurementId: \"G-6JK8M8PPMH\",\r\n});\r\n\r\nconst database = Config.firestore();\r\nconst auth = Config.auth();\r\nconst storage = firebase.storage();\r\n\r\nexport { database, auth, storage };\r\n","import React from \"react\";\r\nimport \"./Header.style.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { useStateValue } from \"../../ContextApi/StateProvider\";\r\nimport { auth } from \"../../Firebase/Firebase\";\r\n\r\nfunction Header({ searchedText, setSearchedText }) {\r\n  const [{ basket, user }, dispatch] = useStateValue();\r\n\r\n  const login = () => {\r\n    localStorage.removeItem(\"id\");\r\n    dispatch({\r\n      type: \"EMPTY\",\r\n    });\r\n    if (user) {\r\n      auth.signOut();\r\n      dispatch({\r\n        type: \"SET_USER\",\r\n        user: null,\r\n      });\r\n      localStorage.removeItem(\"amazon_user\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"position-sticky sticky-top\">\r\n      <nav className=\"header\">\r\n        {/*Logo on the left ->img*/}\r\n        <Link to=\"/\">\r\n          <img\r\n            src=\"http://pngimg.com/uploads/amazon/amazon_PNG11.png\"\r\n            alt=\"\"\r\n            className=\"header__logo\"\r\n          />\r\n        </Link>\r\n        {/*Search Box*/}\r\n        <div className=\"input-group my-auto d-md-flex d-none\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            aria-describedby=\"basic-addon2\"\r\n            value={searchedText}\r\n            onChange={(e) => {\r\n              setSearchedText(e.target.value);\r\n            }}\r\n          />\r\n          <div className=\"input-group-append\">\r\n            <span className=\"input-group-text\" id=\"basic-addon2\">\r\n              <i className=\"fas fa-search\"></i>\r\n            </span>\r\n          </div>\r\n        </div>\r\n        {/*3 Links*/}\r\n        <div className=\"header__nav ml-auto\">\r\n          <Link to={!user && \"/login\"} className=\"header__link\">\r\n            <div onClick={login} className=\"d-flex flex-column header__option\">\r\n              <span className=\"header__optionLine_one\">Hello {user?.name}</span>\r\n              <span className=\"header__optionLine_two\">\r\n                {user ? \"Sign Out\" : \"Sign In\"}\r\n              </span>\r\n            </div>\r\n          </Link>\r\n          <Link to=\"/myorders\" className=\"header__link\">\r\n            <div className=\"d-flex flex-column header__option\">\r\n              <span className=\"header__optionLine_one\">Returns</span>\r\n              <span className=\"header__optionLine_two\">& Orders</span>\r\n            </div>\r\n          </Link>\r\n          <Link to=\"/checkout\" className=\"header__link\">\r\n            <div className=\"header__optionBasket\">\r\n              <span>\r\n                <i className=\"fas fa-shopping-cart fa-2x\"></i>\r\n              </span>\r\n              <span className=\"mx-2\">{basket?.length}</span>\r\n            </div>\r\n          </Link>\r\n        </div>\r\n      </nav>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport \"./Product.style.css\";\r\nimport { useStateValue } from \"../../ContextApi/StateProvider\";\r\n\r\nfunction Product({ props }) {\r\n  const [{ basket }, dispatch] = useStateValue();\r\n\r\n  const addToBasket = () => {\r\n    // Add item to a basket\r\n    dispatch({\r\n      type: \"SET_BASKET\",\r\n      basket: [\r\n        ...basket,\r\n        {\r\n          id: props.key,\r\n          title: props.name,\r\n          image: props.img,\r\n          price: props.price,\r\n          rating: props.star,\r\n        },\r\n      ],\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"col-lg-4 col-md-6\">\r\n      <div className=\"product\">\r\n        <div className=\"product__info\">\r\n          <p className=\"product__title m-0\">{props.name}</p>\r\n          <p className=\"product__price m-0 mt-2\">\r\n            <small>$</small>\r\n            <strong>{props.price}</strong>\r\n          </p>\r\n          <p>Stock : {props.stock}</p>\r\n          <div className=\"product__rating d-flex m-0\">\r\n            {Array(props.star)\r\n              .fill()\r\n              .map((arr, index) => (\r\n                <p key={index} className=\"my-auto\">\r\n                  ⭐\r\n                </p>\r\n              ))}\r\n          </div>\r\n          <small>({props.starCount})</small>\r\n        </div>\r\n        <img src={props.img} alt=\"cant load\" className=\"product__image\" />\r\n        <div className=\"d-flex\">\r\n          <button className=\"product__button\" onClick={addToBasket}>\r\n            Add to Basket\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Product;\r\n","import axios from \"axios\";\r\nconst instance = axios.create({\r\n  baseURL: \"https://amazon-by-akash.herokuapp.com\",\r\n});\r\nexport default instance;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./Home.style.css\";\r\nimport Product from \"../../components/Product/Product\";\r\nimport axios from \"../../axios\";\r\n\r\nfunction Home({ products }) {\r\n  return (\r\n    <div className=\"home mx-auto container\" id=\"products\">\r\n      <img\r\n        className=\"home__image\"\r\n        src=\"https://images-eu.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220_.jpg\"\r\n        alt=\"\"\r\n      />\r\n      {/*Product id,title,price,rating,image*/}\r\n      <div className=\"row z-index-1\">\r\n        {products.length > 0 ? (\r\n          products.map((product) => (\r\n            <Product key={product._id} props={product} />\r\n          ))\r\n        ) : (\r\n          <h2 className=\"text-center ml-5\">Sorry!! No products found.</h2>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport \"./Checkout.style.css\";\r\nimport { useStateValue } from \"../../ContextApi/StateProvider\";\r\n\r\nfunction CheckoutProducts({ product }) {\r\n  const [{ basket }, dispatch] = useStateValue();\r\n  const removeFromBasket = () => {\r\n    // Remove item from the basket\r\n    dispatch({\r\n      type: \"REMOVE_FROM_BASKET\",\r\n      id: product.id,\r\n    });\r\n  };\r\n  return (\r\n    <div className=\"checkoutProduct d-flex my-3 py-2\">\r\n      <img src={product.image} alt=\"\" className=\"checkoutProduct__image mr-3\" />\r\n      <div className=\"checkoutProduct__info\">\r\n        <p className=\"checkoutProduct__title m-0\">\r\n          <strong>{product.title}</strong>\r\n        </p>\r\n        <p className=\"checkoutProduct__price m-0\">\r\n          <small>$</small>\r\n          <strong>{product.price}</strong>\r\n        </p>\r\n        <div className=\"checkoutProduct__rating d-flex m-0\">\r\n          {Array(product.rating)\r\n            .fill()\r\n            .map(() => (\r\n              <p>⭐</p>\r\n            ))}\r\n        </div>\r\n        <button className=\"checkoutProduct__button\" onClick={removeFromBasket}>\r\n          Remove from Basket\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CheckoutProducts;\r\n","export const initialState = {\r\n  user: null,\r\n  basket: [],\r\n};\r\n\r\nexport const getBasketTotal = (basket) => {\r\n  let total = 0;\r\n  basket.forEach((item) => (total += item.price));\r\n\r\n  return total.toFixed(2);\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"SET_BASKET\":\r\n      return {\r\n        ...state,\r\n        basket: action.basket,\r\n      };\r\n\r\n    case \"SET_USER\":\r\n      return {\r\n        ...state,\r\n        user: action.user,\r\n      };\r\n\r\n    case \"REMOVE_FROM_BASKET\":\r\n      return {\r\n        ...state,\r\n        basket: state.basket.filter((prod) => prod.id !== action.id),\r\n      };\r\n\r\n    case \"LOGOUT\":\r\n      return { ...state, user: null };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import React from \"react\";\r\nimport \"./Checkout.style.css\";\r\nimport { useStateValue } from \"../../ContextApi/StateProvider\";\r\nimport { getBasketTotal } from \"../../ContextApi/reducer\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction Subtotal() {\r\n  const [{ basket }] = useStateValue();\r\n  const history = useHistory();\r\n\r\n  const handleProceedCheckout = () => {\r\n    history.push(\"/shipment\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"subtotal\">\r\n      <h5>\r\n        Subtotal({basket?.length}):\r\n        <strong> ${getBasketTotal(basket)} </strong>\r\n      </h5>\r\n      <small className=\"subtotal__gift\">\r\n        <input type=\"checkbox\" /> This order contains a gift\r\n      </small>\r\n      <button\r\n        onClick={handleProceedCheckout}\r\n        className=\"checkoutProduct__button form-control mt-2\"\r\n      >\r\n        Proceed Checkout\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Subtotal;\r\n","import React from \"react\";\r\nimport \"./Checkout.style.css\";\r\nimport CheckoutProducts from \"./CheckoutProducts\";\r\nimport Subtotal from \"./Subtotal\";\r\n\r\nimport { useStateValue } from \"../../ContextApi/StateProvider\";\r\n\r\nfunction Checkout() {\r\n  const [{ basket }] = useStateValue();\r\n  return (\r\n    <div className=\"checkout container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-9\">\r\n          <img\r\n            className=\"checkout__ad\"\r\n            src=\"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg\"\r\n            alt=\"\"\r\n          />\r\n          {basket?.length === 0 ? (\r\n            <div>\r\n              <h2>Your Basket is Empty</h2>\r\n              <p>\r\n                To buy one or more item, please click the \"Add to Basket\" button\r\n                placed next to the item.\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              <h2>Your Basket have these items in the Basket</h2>\r\n              <hr />\r\n\r\n              {/* List out all the checkout items */}\r\n              {basket?.map((item) => (\r\n                <CheckoutProducts key={item.id} product={item} />\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"col-md-3\">{basket.length > 0 && <Subtotal />}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Checkout;\r\n","import React, { useState } from \"react\";\r\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\r\nimport \"./Login.style.css\";\r\nimport { auth } from \"../../Firebase/Firebase\";\r\nimport { TextField } from \"@material-ui/core\";\r\nimport { useStateValue } from \"../../ContextApi/StateProvider\";\r\n\r\nfunction Login() {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const { from } = location.state || { from: { pathname: \"/\" } };\r\n  const [isLogin, setIsLogin] = useState(true);\r\n  const [{ user }, dispatch] = useStateValue();\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\n  if (localStorage.getItem(\"amazon_user\")) {\r\n    dispatch({\r\n      type: \"SET_USER\",\r\n      user: JSON.parse(localStorage.getItem(\"amazon_user\")),\r\n    });\r\n    history.replace(from);\r\n  }\r\n\r\n  const login = (e) => {\r\n    e.preventDefault();\r\n    auth\r\n      .signInWithEmailAndPassword(email, password)\r\n      .then((auth) => {\r\n        const { displayName, email, phoneNumber } = auth.user;\r\n        dispatch({\r\n          type: \"SET_USER\",\r\n          user: {\r\n            name: displayName,\r\n            email,\r\n            phone: phoneNumber,\r\n          },\r\n        });\r\n\r\n        localStorage.setItem(\r\n          \"amazon_user\",\r\n          JSON.stringify({\r\n            name: displayName,\r\n            email,\r\n            phone: phoneNumber,\r\n          })\r\n        );\r\n        // Logged in, redirect to homepage\r\n        history.replace(from);\r\n      })\r\n      .catch((err) => {\r\n        document.getElementById(\"login-failed\").innerText = `${err}`;\r\n      });\r\n  };\r\n\r\n  const register = (e) => {\r\n    e.preventDefault();\r\n    document.getElementById(\"login-failed\").innerHTML = \"\";\r\n\r\n    if (\r\n      !name ||\r\n      !re.test(email) ||\r\n      !password ||\r\n      password !== confirmPassword ||\r\n      phone.length < 11\r\n    ) {\r\n      document.getElementById(\"login-failed\").innerHTML =\r\n        \"Please enter all information correctly\";\r\n      alert(\"Resitration failed, try again\");\r\n      return;\r\n    }\r\n    auth\r\n      .createUserWithEmailAndPassword(email, password)\r\n      .then(async (newUser) => {\r\n        let currentUser = auth.currentUser;\r\n        await currentUser\r\n          .updateProfile({\r\n            displayName: name,\r\n            phoneNumber: phone,\r\n          })\r\n          .then((authUser) => {\r\n            const { displayName, email, phoneNumber } = auth.currentUser;\r\n            dispatch({\r\n              type: \"SET_USER\",\r\n              user: {\r\n                name: displayName,\r\n                email,\r\n                phone: phoneNumber,\r\n              },\r\n            });\r\n            localStorage.setItem(\r\n              \"amazon_user\",\r\n              JSON.stringify({\r\n                name: displayName,\r\n                email,\r\n                phone: phoneNumber,\r\n              })\r\n            );\r\n          });\r\n\r\n        alert(\"Successfully registered\");\r\n        history.replace(from);\r\n      })\r\n      .catch((err) => {\r\n        document.getElementById(\"login-failed\").innerText = `${err}`;\r\n        alert(\"Resitration failed, try again\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"login__container text-center\">\r\n        {isLogin ? (\r\n          <form action=\"\">\r\n            <h1>Sign In</h1>\r\n            <TextField\r\n              required\r\n              error={!re.test(email)}\r\n              id=\"outlined-error-helper-text\"\r\n              label=\"Enter email\"\r\n              variant=\"outlined\"\r\n              className=\"form-control my-3\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n\r\n            <TextField\r\n              required\r\n              error={password.length > 0 && password.length < 6}\r\n              id=\"outlined-error-helper-text\"\r\n              label=\"Enter password\"\r\n              variant=\"outlined\"\r\n              type=\"password\"\r\n              className=\"form-control my-3\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n            <button\r\n              type=\"submit\"\r\n              className=\"login__signInButton form-control my-4\"\r\n              onClick={login}\r\n            >\r\n              Sign In\r\n            </button>\r\n            <p className=\"text-danger\" id=\"login-failed\"></p>\r\n            <p className=\"text-center\">\r\n              No account?{\" \"}\r\n              <button\r\n                className=\"btn bg-none text-primary\"\r\n                onClick={(e) => setIsLogin(false)}\r\n              >\r\n                Sign up\r\n              </button>\r\n              now.\r\n            </p>\r\n          </form>\r\n        ) : (\r\n          <form action=\"\">\r\n            <h1>Sign Up</h1>\r\n            <TextField\r\n              required\r\n              id=\"outlined-error-helper-text\"\r\n              label=\"Enter your name\"\r\n              variant=\"outlined\"\r\n              className=\"form-control my-3\"\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n            />\r\n\r\n            <TextField\r\n              required\r\n              error={!re.test(email)}\r\n              id=\"outlined-error-helper-text\"\r\n              label=\"Enter email\"\r\n              variant=\"outlined\"\r\n              className=\"form-control my-3\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n\r\n            <TextField\r\n              required\r\n              error={phone.length < 11 && phone.length > 0}\r\n              id=\"outlined-error-helper-text\"\r\n              label=\"Enter Mobile no\"\r\n              variant=\"outlined\"\r\n              className=\"form-control my-3\"\r\n              value={phone}\r\n              onChange={(e) => setPhone(e.target.value)}\r\n            />\r\n\r\n            <TextField\r\n              required\r\n              error={password.length > 0 && password.length < 6}\r\n              id=\"outlined-error-helper-text\"\r\n              label=\"Enter password\"\r\n              variant=\"outlined\"\r\n              type=\"password\"\r\n              className=\"form-control my-3\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n\r\n            <TextField\r\n              required\r\n              error={confirmPassword.length > 0 && password !== confirmPassword}\r\n              id=\"outlined-error-helper-text\"\r\n              label=\"Confirm password\"\r\n              variant=\"outlined\"\r\n              type=\"password\"\r\n              className=\"form-control my-3\"\r\n              value={confirmPassword}\r\n              onChange={(e) => setConfirmPassword(e.target.value)}\r\n            />\r\n\r\n            <button\r\n              className=\"login__signUpButton btn btn-success mt-4\"\r\n              onClick={register}\r\n            >\r\n              Create your amazon account\r\n            </button>\r\n\r\n            <p className=\"text-danger\" id=\"login-failed\"></p>\r\n            <p className=\"text-center\">\r\n              Already registered?{\" \"}\r\n              <button\r\n                className=\"btn bg-none text-primary\"\r\n                onClick={(e) => setIsLogin(true)}\r\n              >\r\n                Login\r\n              </button>\r\n              here.\r\n            </p>\r\n          </form>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./MyOrders.style.css\";\r\nimport axios from \"../../axios\";\r\nimport { useStateValue } from \"../../ContextApi/StateProvider\";\r\nimport moment from \"moment\";\r\n\r\nfunction MyOrders() {\r\n  const [{ user }, dispatch] = useStateValue();\r\n  const [orders, setOrders] = useState();\r\n\r\n  useEffect(() => {\r\n    const getOrders = async () => {\r\n      axios\r\n        .get(`/api/order/${user.email}`)\r\n        .then((res) => {\r\n          setOrders(res.data);\r\n        })\r\n        .catch((err) => alert(err.message));\r\n    };\r\n    getOrders();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"text-center orders my-3\">\r\n      {orders?.length > 0 ? (\r\n        <div className=\"d-flex flex-column justify-content-center w-100\">\r\n          <h3 className=\"text-info\">Your Order history</h3>\r\n\r\n          <ul className=\"m-auto order__list\">\r\n            {orders.map((order) => (\r\n              <li key={order._id}>\r\n                <div className=\"p-1 text-start order\">\r\n                  <div className=\"order__left\">\r\n                    <h6 className=\"text-warning\">\r\n                      Total {order.items.length} products.\r\n                    </h6>\r\n                    <h6 className=\"text-light\">\r\n                      Total ${order.price + order.shipment} (including shipment){\" \"}\r\n                    </h6>\r\n                  </div>\r\n                  <div className=\"order__right\">\r\n                    <p className=\"order__date\">\r\n                      {moment(order.timestamp).format(\r\n                        \"MMMM Do YYYY, h:mm:ss a\"\r\n                      )}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      ) : (\r\n        <h3 className=\"text-danger\">\r\n          Sorry !! You haven't place any order yet\r\n        </h3>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyOrders;\r\n","import React, { useState } from \"react\";\r\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\r\nimport axios from \"../../axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useStateValue } from \"../../ContextApi/StateProvider\";\r\n\r\nfunction ProcessPayment({ newOrder }) {\r\n  const [{ user, basket }, dispatch] = useStateValue();\r\n  const history = useHistory();\r\n  const [error, setError] = useState(null);\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n\r\n  const totalPrice = (\r\n    parseFloat(newOrder.price) + parseFloat(newOrder.shipment)\r\n  ).toFixed(2);\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    if (!stripe || !elements) {\r\n      // Stripe.js has not loaded yet. Make sure to disable\r\n      // form submission until Stripe.js has loaded.\r\n      return;\r\n    }\r\n    const cardElement = elements.getElement(CardElement);\r\n\r\n    const { error, paymentMethod } = await stripe.createPaymentMethod({\r\n      type: \"card\",\r\n      card: cardElement,\r\n    });\r\n\r\n    // Handle the errors and place order\r\n    if (error) {\r\n      setError(error.message);\r\n      console.log(\"[error]\", error);\r\n    } else {\r\n      setError(null);\r\n\r\n      await axios\r\n        .post(\"/api/order\", {\r\n          ...newOrder,\r\n          paymentInfo: { id: paymentMethod.id, card: paymentMethod.card },\r\n        })\r\n        .then((res) => {\r\n          alert(\"Order placed successfully\");\r\n          dispatch({\r\n            type: \"SET_BASKET\",\r\n            basket: [],\r\n          });\r\n\r\n          history.replace(\"/myorders\");\r\n        })\r\n        .catch((err) => err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"title text-center\">\r\n        <h3>Make Payment</h3>\r\n      </div>\r\n\r\n      <div className=\"payment__details w-75 mx-auto mt-5\">\r\n        <form onSubmit={handleSubmit}>\r\n          <CardElement />\r\n          <button\r\n            type=\"submit\"\r\n            className=\" btn btn-block btn-success my-4\"\r\n            disabled={!stripe}\r\n          >\r\n            {!stripe ? <p>Processing...</p> : <p>PAY ${totalPrice}</p>}\r\n          </button>\r\n          {error && <p className=\"text-danger\">{error}</p>}\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProcessPayment;\r\n","import { TextField } from \"@material-ui/core\";\r\nimport React, { useState } from \"react\";\r\nimport { useStateValue } from \"../../ContextApi/StateProvider\";\r\nimport { getBasketTotal } from \"../../ContextApi/reducer\";\r\nimport \"./Shipment.style.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ProcessPayment from \"../ProcessPayment/ProcessPayment\";\r\n\r\nimport { Elements } from \"@stripe/react-stripe-js\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nconst stripePromise = loadStripe(\r\n  \"pk_test_51HaDbiFGo8R13963km0FIpFOdX2AL0MwaslsdgkrYdHF9NKPNVNjZy7VWFmYl0m0YoV1w2hYjtM2VR7GyWizchwk00eNge5e6E\"\r\n);\r\n\r\nfunction Shipment() {\r\n  const [{ user, basket }, dispatch] = useStateValue();\r\n  const [phone, setPhone] = useState(user.phone);\r\n  const [address, setAddress] = useState(\"\");\r\n  const [payment, setPayment] = useState(false);\r\n  const [newOrder, setNewOrder] = useState({});\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const order = {\r\n      email: user.email,\r\n      phone: phone,\r\n      address,\r\n      items: basket.map((prod) => prod.id),\r\n      price: parseFloat(getBasketTotal(basket)),\r\n      shipment: getBasketTotal(basket) * 0.05,\r\n    };\r\n\r\n    setNewOrder(order);\r\n    setPayment(true);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container my-5\">\r\n      <h1 className=\"text-center text-info\">Confirm your order</h1>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6\">\r\n          {!payment ? (\r\n            <form className=\"shipment__form\" onSubmit={handleSubmit}>\r\n              <TextField\r\n                id=\"outlined-error-helper-text\"\r\n                label=\"Your name\"\r\n                variant=\"outlined\"\r\n                className=\"form-control my-3\"\r\n                value={user.name}\r\n              />\r\n\r\n              <TextField\r\n                id=\"outlined-error-helper-text\"\r\n                label=\"Your email\"\r\n                variant=\"outlined\"\r\n                className=\"form-control my-3\"\r\n                value={user.email}\r\n              />\r\n\r\n              <TextField\r\n                required\r\n                id=\"outlined-error-helper-text\"\r\n                label=\"Mobile no\"\r\n                variant=\"outlined\"\r\n                className=\"form-control my-3\"\r\n                value={phone}\r\n                onChange={(e) => setPhone(e.target.value)}\r\n              />\r\n\r\n              <TextField\r\n                required\r\n                id=\"outlined-error-helper-text\"\r\n                label=\"Address\"\r\n                variant=\"outlined\"\r\n                className=\"form-control my-3\"\r\n                value={address}\r\n                onChange={(e) => setAddress(e.target.value)}\r\n              />\r\n\r\n              <button type=\"submit\" className=\"btn btn-block btn-success my-4\">\r\n                PLACE ORDER\r\n              </button>\r\n            </form>\r\n          ) : (\r\n            <Elements stripe={stripePromise}>\r\n              <ProcessPayment newOrder={newOrder} />\r\n            </Elements>\r\n          )}\r\n        </div>\r\n        <div className=\"col-md-6 mt-5\">\r\n          <div className=\"p-3\">\r\n            <h3 className=\"text-primary\">Your order history</h3>\r\n            <p>\r\n              <strong className=\"text-success\">Total items : </strong>\r\n              {basket.length}\r\n            </p>\r\n            <p>\r\n              <strong className=\"text-success\">Total Price :</strong> {\" $ \"}\r\n              {getBasketTotal(basket)}{\" \"}\r\n            </p>\r\n            <p>\r\n              <strong className=\"text-success\"> Shipment Charge :</strong>\r\n              {\" $ \"}\r\n              {(getBasketTotal(basket) * 0.05).toFixed(2)}\r\n            </p>\r\n\r\n            <Link to=\"/checkout\" className=\"btn btn-primary mt-3\">\r\n              Edit Products\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Shipment;\r\n","import React from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nimport { useStateValue } from \"../../ContextApi/StateProvider\";\r\n\r\nfunction PrivateRoute({ children, ...rest }) {\r\n  const [{ user }] = useStateValue();\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({ location }) =>\r\n        user ? (\r\n          children\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/login\",\r\n              state: { from: location },\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default PrivateRoute;\r\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport Header from \"./components/Header/Header\";\nimport Home from \"./pages/Home/Home\";\nimport Checkout from \"./pages/Checkout/Checkout\";\nimport Login from \"./pages/Login/Login\";\nimport MyOrders from \"./pages/MyOrders/MyOrders\";\nimport { useStateValue } from \"./ContextApi/StateProvider\";\nimport Shipment from \"./components/Shipment/Shipment\";\nimport PrivateRoute from \"./components/PrivateRoute/PrivateRoute\";\nimport axios from \"./axios\";\n\nfunction App() {\n  const [{ basket }, dispatch] = useStateValue();\n  const [products, setProducts] = useState([]);\n  const [searchedText, setSearchedText] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    setIsLoading(true);\n    axios\n      .get(`/api/products?skip=0`)\n      .then((res) => {\n        setProducts(res.data);\n        setIsLoading(false);\n      })\n      .catch((err) => console.log(err.msg));\n\n    dispatch({\n      type: \"SET_USER\",\n      user: JSON.parse(localStorage.getItem(\"amazon_user\")) || null,\n    });\n\n    dispatch({\n      type: \"SET_BASKET\",\n      basket: JSON.parse(localStorage.getItem(\"amazon_basket\")) || [],\n    });\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem(\"amazon_basket\", JSON.stringify(basket));\n  }, [basket]);\n\n  useEffect(() => {\n    const setFilteredProducts = async () => {\n      let filteredProducts = await products.filter((data) =>\n        data.name.toLocaleLowerCase().includes(searchedText.toLocaleLowerCase())\n      );\n      await setProducts(filteredProducts);\n    };\n    setFilteredProducts();\n  }, [searchedText]);\n\n  return (\n    <Router>\n      {isLoading && (\n        <div className=\"loading\">\n          <h1>Data Loading...</h1>\n        </div>\n      )}\n      <div className={`app ${isLoading && \"d-none\"}`}>\n        <Header searchedText={searchedText} setSearchedText={setSearchedText} />\n        <Switch>\n          <Route path=\"/checkout\">\n            <Checkout />\n          </Route>\n          <Route path=\"/login\">\n            <Login />\n          </Route>\n          <PrivateRoute path=\"/shipment\">\n            <Shipment />\n          </PrivateRoute>\n          <PrivateRoute path=\"/myorders\">\n            <MyOrders />\n          </PrivateRoute>\n          <Route exact path=\"/\">\n            <Home products={products} setProducts={setProducts} />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nimport { StateProvider } from \"./ContextApi/StateProvider\";\nimport reducer, { initialState } from \"./ContextApi/reducer\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState} reducer={reducer}>\n      <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}