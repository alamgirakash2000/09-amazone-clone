(this["webpackJsonp09-amazom-clone"]=this["webpackJsonp09-amazom-clone"]||[]).push([[0],{25:function(e,a,t){},34:function(e,a,t){e.exports=t(60)},39:function(e,a,t){},41:function(e,a,t){},42:function(e,a,t){},57:function(e,a,t){},58:function(e,a,t){},59:function(e,a,t){},60:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(32),l=t.n(r),o=(t(39),t(16)),i=t.n(o),s=t(21),m=t(6),u=(t(41),t(12)),d=t(2),p=(t(42),Object(n.createContext)()),E=function(e){var a=e.reducer,t=e.initialState,r=e.children;return c.a.createElement(p.Provider,{value:Object(n.useReducer)(a,t)},r)},g=function(){return Object(n.useContext)(p)},_=t(23),h=t.n(_),f=h.a.initializeApp({apiKey:"AIzaSyD6miqZHIPraVrHYve8TfgIBHi9EKqjVz0",authDomain:"clone-904cc.firebaseapp.com",databaseURL:"https://clone-904cc.firebaseio.com",projectId:"clone-904cc",storageBucket:"clone-904cc.appspot.com",messagingSenderId:"262331714843",appId:"1:262331714843:web:d184902bdf22ba29bc17be",measurementId:"G-6JK8M8PPMH"}),v=f.firestore(),b=f.auth();h.a.storage();var N=function(){var e=g(),a=Object(m.a)(e,2),t=a[0],n=t.basket,r=t.user,l=a[1];return c.a.createElement("div",null,c.a.createElement("nav",{className:"header"},c.a.createElement(u.b,{to:"/"},c.a.createElement("img",{src:"http://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"",className:"header__logo"})),c.a.createElement("div",{className:"input-group my-auto"},c.a.createElement("input",{type:"text",className:"form-control","aria-describedby":"basic-addon2"}),c.a.createElement("div",{className:"input-group-append"},c.a.createElement("span",{className:"input-group-text",id:"basic-addon2"},c.a.createElement("i",{class:"fas fa-search"})))),c.a.createElement("div",{className:"header__nav"},c.a.createElement(u.b,{to:!r&&"/login",className:"header__link"},c.a.createElement("div",{onClick:function(){localStorage.removeItem("id"),l({type:"EMPTY"}),r&&b.signOut()},className:"d-flex flex-column header__option"},c.a.createElement("span",{className:"header__optionLine_one"},"Hello"),c.a.createElement("span",{className:"header__optionLine_two"},r?"Sign Out":"Sign In"))),c.a.createElement(u.b,{to:"/login",className:"header__link"},c.a.createElement("div",{className:"d-flex flex-column header__option"},c.a.createElement("span",{className:"header__optionLine_one"},"Returns"),c.a.createElement("span",{className:"header__optionLine_two"},"& Orders"))),c.a.createElement(u.b,{to:"/login",className:"header__link"},c.a.createElement("div",{className:"d-flex flex-column header__option"},c.a.createElement("span",{className:"header__optionLine_one"},"Your"),c.a.createElement("span",{className:"header__optionLine_two"},"Prime"))),c.a.createElement(u.b,{to:"/checkout",className:"header__link"},c.a.createElement("div",{className:"header__optionBasket"},c.a.createElement("span",null,c.a.createElement("i",{class:"fas fa-shopping-cart fa-2x"})),c.a.createElement("span",{className:"mx-2"},null===n||void 0===n?void 0:n.length))))))};t(57),t(58);var k=function(e){var a=e.id,t=e.title,n=e.image,r=e.price,l=e.rating,o=g(),i=Object(m.a)(o,2),s=(i[0].basket,i[1]);return c.a.createElement("div",{className:"product"},c.a.createElement("div",{className:"product__info"},c.a.createElement("p",{className:"product__title m-0"},t),c.a.createElement("p",{className:"product__price m-0 mt-2"},c.a.createElement("small",null,"$"),c.a.createElement("strong",null,r)),c.a.createElement("div",{className:"product__rating d-flex m-0"},Array(l).fill().map((function(){return c.a.createElement("p",null,"\u2b50")})))),c.a.createElement("img",{src:n,alt:"cant load",className:"product__image"}),c.a.createElement("button",{className:"product__button",onClick:function(){s({type:"ADD",item:{id:a,title:t,image:n,price:r,rating:l}})}},"Add to Basket"))};var y=function(){return c.a.createElement("div",{className:"home mx-auto container"},c.a.createElement("img",{className:"home__image",src:"https://images-eu.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220_.jpg",alt:""}),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-6"},c.a.createElement(k,{id:"0001",title:"Harry Potter and the Philosopher's Stone",price:10.49,rating:5,image:"https://m.media-amazon.com/images/I/51UoqRAxwEL.jpg"})),c.a.createElement("div",{className:"col-md-6"},c.a.createElement(k,{id:"0002",title:"Funny Costumes Dinosaur Inflatable Costumes",price:34.84,rating:4,image:"https://images-na.ssl-images-amazon.com/images/I/71J-YtSUd3L._AC_UX679_.jpg"}))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-4 col-sm-6"},c.a.createElement(k,{id:"0003",title:"Color Club Halographic Hues Nail Polish, Halo, Graphic.05 Ounce",price:11.29,rating:4,image:"https://m.media-amazon.com/images/I/71FPuDUhfML._AC_UL480_QL65_.jpg"})),c.a.createElement("div",{className:"col-md-4 col-sm-6"},c.a.createElement(k,{id:"0004",title:"Hamilton Beach Breakfast Sandwich Maker, Silver (25475A) ",price:24.99,rating:4,image:"https://images-na.ssl-images-amazon.com/images/I/41N8AxIJq4L._AC_SY200_.jpg"})),c.a.createElement("div",{className:"col-md-4 col-sm-6"},c.a.createElement(k,{id:"0005",title:"Artist's Loft Acrylic Paint Value Pack 36 Piece",price:25.35,rating:5,image:"https://m.media-amazon.com/images/I/61GEW-MekwL._AC_UL480_QL65_.jpg"}))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement(k,{id:"0006",title:"FLY2SKY 28pcs Mochi Squishy Toys Mini Squishies Kawaii Animal Squishys Party Favors Easter Egg Fillers Easter Gifts for Kids Unicorn Cat Panda Animal Squeeze Toy Stress Relief Toy Class Prize, Random ",price:8.99,rating:4,image:"https://m.media-amazon.com/images/I/61ZA1VRxLOL._AC_UL480_QL65_.jpg"}))))};t(25);var j=function(e){var a=e.product,t=g(),n=Object(m.a)(t,2),r=(n[0].basket,n[1]);return c.a.createElement("div",{className:"checkoutProduct d-flex my-3 py-2"},c.a.createElement("img",{src:a.image,alt:"",className:"checkoutProduct__image mr-3"}),c.a.createElement("div",{className:"checkoutProduct__info"},c.a.createElement("p",{className:"checkoutProduct__title m-0"},c.a.createElement("strong",null,a.title)),c.a.createElement("p",{className:"checkoutProduct__price m-0"},c.a.createElement("small",null,"$"),c.a.createElement("strong",null,a.price)),c.a.createElement("div",{className:"checkoutProduct__rating d-flex m-0"},Array(a.rating).fill().map((function(){return c.a.createElement("p",null,"\u2b50")}))),c.a.createElement("button",{className:"checkoutProduct__button",onClick:function(){r({type:"REMOVE",id:a.id})}},"Remove from Basket")))},O=t(28),S=t(11),P=function(e,a){switch(a.type){case"SET_USER":return Object(S.a)(Object(S.a)({},e),{},{user:a.user});case"ADD":return Object(S.a)(Object(S.a)({},e),{},{basket:[].concat(Object(O.a)(e.basket),[a.item])});case"REMOVE":var t=Object(O.a)(e.basket),n=e.basket.findIndex((function(e){return e.id===a.id}));return n>=0?t.splice(n,1):console.warn("Can't remove the product of id: ".concat(a.id,".")),Object(S.a)(Object(S.a)({},e),{},{basket:t});case"EMPTY":return Object(S.a)(Object(S.a)({},e),{},{basket:[]});case"ADD_ARRAY":return Object(S.a)(Object(S.a)({},e),{},{basket:a.array});default:return e}};var A=function(){var e=g(),a=Object(m.a)(e,1)[0].basket;return c.a.createElement("div",{className:"subtotal"},c.a.createElement("h5",null,"Subtotal(",null===a||void 0===a?void 0:a.length,"):",c.a.createElement("strong",null," $",function(e){var a=0;return e.map((function(e){a+=e.price})),a}(a).toFixed(2)," ")),c.a.createElement("small",{className:"subtotal__gift"},c.a.createElement("input",{type:"checkbox"})," This order contains a gift"),c.a.createElement("button",{className:"checkoutProduct__button form-control mt-2"},"Proceed to Checkout"))};var C=function(){var e=g(),a=Object(m.a)(e,1)[0].basket;return c.a.createElement("div",{className:"checkout container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-9"},c.a.createElement("img",{className:"checkout__ad",src:"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg"}),0===(null===a||void 0===a?void 0:a.length)?c.a.createElement("div",null,c.a.createElement("h2",null,"Your Basket is Empty"),c.a.createElement("p",null,'To buy one or more item, please click the "Add to Basket" button placed next to the item.')):c.a.createElement("div",null,c.a.createElement("h2",null,"Your Basket have these items in the Basket"),c.a.createElement("hr",null),null===a||void 0===a?void 0:a.map((function(e){return c.a.createElement(j,{product:e})})))),c.a.createElement("div",{className:"col-md-3"},a.length>0&&c.a.createElement(A,null))))};t(59);var x=function(){var e=Object(d.f)(),a=Object(n.useState)(""),t=Object(m.a)(a,2),r=t[0],l=t[1],o=Object(n.useState)(""),p=Object(m.a)(o,2),E=p[0],g=p[1];return c.a.createElement("div",{className:"login"},c.a.createElement(u.b,{to:"/"},c.a.createElement("img",{src:"http://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"",className:"login__image my-3"})),c.a.createElement("div",{className:"login__container"},c.a.createElement("h1",null,"Sign In"),c.a.createElement("form",{action:""},c.a.createElement("h5",null,"E-mail"),c.a.createElement("input",{type:"email",className:"form-control",value:r,onChange:function(e){return l(e.target.value)}}),c.a.createElement("h5",null,"Password"),c.a.createElement("input",{type:"password",className:"form-control",value:E,onChange:function(e){return g(e.target.value)}}),c.a.createElement("button",{type:"submit",className:"login__signInButton form-control",onClick:function(a){a.preventDefault(),b.signInWithEmailAndPassword(r,E).then((function(a){localStorage.setItem("id",a.user.uid),e.push("/")})).catch((function(e){document.getElementById("login-failed").innerText="".concat(e)}))}},"Sign In"),c.a.createElement("p",{className:"text-danger",id:"login-failed"})),c.a.createElement("p",null,"By signing-in you agree to Amazon's Conditions of Use & Sale. Please see our privacy. Notice, our Cookies Notice and our interest-Based Ad-notice"),c.a.createElement("button",{className:"login__signUpButton",onClick:function(a){a.preventDefault(),b.createUserWithEmailAndPassword(r,E).then(function(){var a=Object(s.a)(i.a.mark((function a(t){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return localStorage.setItem("id",t.user.uid),a.next=3,v.collection("users").add({id:t.user.uid,basket:[]});case 3:e.push("/");case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){document.getElementById("login-failed").innerText="".concat(e)}))}},"Create your amazon account")))};var w=function(){var e=g(),a=Object(m.a)(e,2),t=a[0],r=t.user,l=t.basket,o=a[1],p=Object(n.useState)(""),E=Object(m.a)(p,2),_=E[0],h=E[1];return Object(n.useEffect)((function(){var e=b.onAuthStateChanged(function(){var e=Object(s.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a?(v.collection("users").onSnapshot((function(e){e.docs.map((function(e){e.data().id===a.uid&&(console.log(e.id),h(e.id),o({type:"ADD_ARRAY",array:e.data().basket}))}))})),o({type:"SET_USER",user:a.uid})):o({type:"SET_USER",user:null});case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());return function(){e()}}),[]),Object(n.useEffect)((function(){if(_&&r)v.collection("users").doc(_).update({basket:l})}),[l]),c.a.createElement(u.a,null,c.a.createElement("div",{className:"app"},c.a.createElement(d.c,null,c.a.createElement(d.a,{path:"/checkout"},c.a.createElement(N,null),c.a.createElement(C,null)),c.a.createElement(d.a,{path:"/login"},c.a.createElement(x,null)),c.a.createElement(d.a,{exact:!0,path:"/"},c.a.createElement(N,null),c.a.createElement(y,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(E,{initialState:{basket:[],user:null},reducer:P},c.a.createElement(w,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.fbc53647.chunk.js.map